<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <title>Yucong&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="No matter where we are going, it starts from where we are">
<meta property="og:type" content="website">
<meta property="og:title" content="Yucong's Blog">
<meta property="og:url" content="http://yoursite.com/page/2/index.html">
<meta property="og:site_name" content="Yucong's Blog">
<meta property="og:description" content="No matter where we are going, it starts from where we are">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Yucong's Blog">
<meta name="twitter:description" content="No matter where we are going, it starts from where we are">
  
    <link rel="alternative" href="/atom.xml" title="Yucong&#39;s Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/assets/img/favicon.ico">
  
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img lazy-src="/assets/img/avatar.jpg" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">体力劳动者</a></h1>
		</hgroup>

		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						
						<div class="icon-wrap icon-me hide" data-idx="3">
							<div class="user"></div>
							<div class="shoulder"></div>
						</div>
						
					</div>

				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>Menu</li>
						<li>Tags</li>
						
						
						<li>Über</li>
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">Home</a></li>
				        
							<li><a href="/archives">All</a></li>
				        
							<li><a href="/tags/Frameworks">Frameworks &amp; Libraries</a></li>
				        
							<li><a href="/tags/Javascript">Javascript</a></li>
				        
							<li><a href="/tags/css">Css</a></li>
				        
							<li><a href="/tags/随笔">随笔</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="https://github.com/BigYu" title="github">github</a>
					        
								<a class="weibo" target="_blank" href="http://weibo.com/1798448072" title="weibo">weibo</a>
					        
								<a class="zhihu" target="_blank" href="https://www.zhihu.com/people/jin-yu-cong" title="zhihu">zhihu</a>
					        
								<a class="mail" target="_blank" href="mailto:jinyucong911@outlook.com" title="mail">mail</a>
					        
								<a class="facebook" target="_blank" href="https://www.facebook.com/profile.php?id=100007633386209" title="facebook">facebook</a>
					        
								<a class="twitter" target="_blank" href="https://twitter.com/TinyJYC" title="twitter">twitter</a>
					        
						</div>
					</nav>
				</section>

				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/Backbone/" style="font-size: 10px;">Backbone</a> <a href="/tags/Dom/" style="font-size: 10px;">Dom</a> <a href="/tags/ES6/" style="font-size: 10px;">ES6</a> <a href="/tags/ES6-ES2015/" style="font-size: 12.5px;">ES6(ES2015)</a> <a href="/tags/Events/" style="font-size: 10px;">Events</a> <a href="/tags/Framework/" style="font-size: 10px;">Framework</a> <a href="/tags/Frameworks/" style="font-size: 15px;">Frameworks</a> <a href="/tags/Javascript/" style="font-size: 20px;">Javascript</a> <a href="/tags/Vue-js/" style="font-size: 10px;">Vue.js</a> <a href="/tags/css/" style="font-size: 12.5px;">css</a> <a href="/tags/data-binding/" style="font-size: 12.5px;">data binding</a> <a href="/tags/framework/" style="font-size: 12.5px;">framework</a> <a href="/tags/html/" style="font-size: 10px;">html</a> <a href="/tags/javascript/" style="font-size: 17.5px;">javascript</a> <a href="/tags/随笔/" style="font-size: 10px;">随笔</a>
					</div>
				</section>
				

				

				
				
				<section class="switch-part switch-part3">
				
					<div id="js-aboutme">No matter where we are going, it starts from where we are</div>
				</section>
				
			</div>
		</div>
	</header>
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">体力劳动者</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				
					<img lazy-src="/assets/img/avatar.jpg" class="js-avatar">
				
			</div>
			<hgroup>
			  <h1 class="header-author">体力劳动者</h1>
			</hgroup>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">Home</a></li>
		        
					<li><a href="/archives">All</a></li>
		        
					<li><a href="/tags/Frameworks">Frameworks &amp; Libraries</a></li>
		        
					<li><a href="/tags/Javascript">Javascript</a></li>
		        
					<li><a href="/tags/css">Css</a></li>
		        
					<li><a href="/tags/随笔">随笔</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/BigYu" title="github">github</a>
			        
						<a class="weibo" target="_blank" href="http://weibo.com/1798448072" title="weibo">weibo</a>
			        
						<a class="zhihu" target="_blank" href="https://www.zhihu.com/people/jin-yu-cong" title="zhihu">zhihu</a>
			        
						<a class="mail" target="_blank" href="mailto:jinyucong911@outlook.com" title="mail">mail</a>
			        
						<a class="facebook" target="_blank" href="https://www.facebook.com/profile.php?id=100007633386209" title="facebook">facebook</a>
			        
						<a class="twitter" target="_blank" href="https://twitter.com/TinyJYC" title="twitter">twitter</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>

      <div class="body-wrap">
  
    <article id="post-html-input" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/01/19/html-input/" class="article-date">
  	<time datetime="2017-01-19T08:12:32.000Z" itemprop="datePublished">2017-01-19</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/01/19/html-input/">html input</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>在html5中 对于</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"file"</span>&gt;</span></div></pre></td></tr></table></figure>
<p>可以用accept属性指定接收的文件类型。</p>
<h3 id="Snytax"><a href="#Snytax" class="headerlink" title="Snytax"></a>Snytax</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">accept</span>=<span class="string">"file_extension|audio/*|video/*|image/*|media_type"</span>&gt;</span></div></pre></td></tr></table></figure>
<p>To specify more than one value, separate the values with a comma (e.g.</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">accept</span>=<span class="string">"audio/*,video/*,image/*"</span> /&gt;</span></div></pre></td></tr></table></figure>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/html/">html</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-vuejs-1" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/12/13/vuejs-1/" class="article-date">
  	<time datetime="2016-12-13T07:34:39.000Z" itemprop="datePublished">2016-12-13</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/12/13/vuejs-1/">Vue.js学习 - 创建第一个应用</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="在github上创建一个项目"><a href="#在github上创建一个项目" class="headerlink" title="在github上创建一个项目"></a>在github上创建一个项目</h2><h2 id="在本地创建对应的repro"><a href="#在本地创建对应的repro" class="headerlink" title="在本地创建对应的repro"></a>在本地创建对应的repro</h2><h3 id="init-git"><a href="#init-git" class="headerlink" title="init git"></a>init git</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">echo</span> <span class="string">"# test"</span> &gt;&gt; README.md</div><div class="line">git init</div><div class="line">git add README.md</div><div class="line">git commit -m <span class="string">"first commit"</span></div><div class="line">git remote add origin https://github.com/BigYu/test.git</div><div class="line">git push -u origin master</div></pre></td></tr></table></figure>
<ul>
<li>我创建了两个branch，master和develop。如果是一个人写的小项目，其实没有必要。管他呢，就当假装follow gitflow的一点执念吧，嘻嘻。</li>
</ul>
<h3 id="init-npm"><a href="#init-npm" class="headerlink" title="init npm"></a>init npm</h3><p>  加上-y选项，即全部填写默认值。如果将来需要修改，在文件里修改吧，什么都没写的时候干这些意义不大</p>
<h2 id="准备好第三方依赖"><a href="#准备好第三方依赖" class="headerlink" title="准备好第三方依赖"></a>准备好第三方依赖</h2><h3 id="梳理一下我要用啥"><a href="#梳理一下我要用啥" class="headerlink" title="梳理一下我要用啥"></a>梳理一下我要用啥</h3><ul>
<li>vue.js</li>
<li>ES2015(6?) &amp; babel</li>
<li>webpack/webpack devserver</li>
<li>sass</li>
</ul>
<p>先暂时想到这些。以后想起来再加。</p>
<h3 id="安装webpack"><a href="#安装webpack" class="headerlink" title="安装webpack"></a>安装webpack</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">npm install --save-dev webpack</div><div class="line">npm install webpack-dev-server -g</div></pre></td></tr></table></figure>
<p>dev server用于本地调试，所以没有加入到packages.json里</p>
<h3 id="使用webpack-dev-server"><a href="#使用webpack-dev-server" class="headerlink" title="使用webpack dev server"></a>使用webpack dev server</h3><ul>
<li>webpack.config.js</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">module</span>.exports = &#123;</div><div class="line">  entry: <span class="string">'./src/index.js'</span>,</div><div class="line">  output: &#123;</div><div class="line">    path: <span class="string">'./assets'</span>,</div><div class="line">    filename: <span class="string">'bundle.js'</span></div><div class="line">  &#125;,</div><div class="line">  devServer: &#123;</div><div class="line">    port: <span class="number">99</span></div><div class="line">  &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<ul>
<li>src/index.js</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">document</span>.write(<span class="string">'Hello vue!!! I am Yucong.'</span>);</div></pre></td></tr></table></figure>
<ul>
<li>bash commands</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">webpack dev server</div></pre></td></tr></table></figure>
<p>浏览器打开 <a href="http://localhost:99/webpack-dev-server/bundle" target="_blank" rel="external">http://localhost:99/webpack-dev-server/bundle</a> 就能看到啦。自动刷新哦~</p>
<h3 id="webpack"><a href="#webpack" class="headerlink" title="webpack"></a>webpack</h3><ul>
<li>bash command</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">webpack</div></pre></td></tr></table></figure>
<p>然后就看到bundle.js在assets目录下被创建了</p>
<p>再加入一个index.html</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"assets/bundle.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<h3 id="安装babel-loader并调试"><a href="#安装babel-loader并调试" class="headerlink" title="安装babel loader并调试"></a>安装babel loader并调试</h3><ul>
<li>install</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install babel-loader babel-core babel-preset-es2015 --save-dev</div></pre></td></tr></table></figure>
<ul>
<li>config</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">module</span>: &#123;</div><div class="line">  loaders: [</div><div class="line">    &#123;</div><div class="line">      test: <span class="regexp">/\.js$/</span>,</div><div class="line">      exclude: <span class="regexp">/(node_modules|bower_components)/</span>,</div><div class="line">      loader: <span class="string">'babel-loader'</span>,</div><div class="line">      query: &#123;</div><div class="line">        presets: [<span class="string">'es2015'</span>]</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">  ]</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li>src/index.js</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> <span class="string">'./test1'</span>;</div><div class="line"></div><div class="line"><span class="built_in">document</span>.write(<span class="string">'Hello vue!!! I am Yucong.'</span>);</div></pre></td></tr></table></figure>
<ul>
<li>src/test1.js</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> <span class="string">'./test_module/test2'</span>;</div><div class="line"></div><div class="line"><span class="built_in">window</span>.console.log(<span class="string">'Hello'</span>);</div></pre></td></tr></table></figure>
<ul>
<li>src/test_module/test2.js</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> test3 <span class="keyword">from</span> <span class="string">'./test3'</span>;</div><div class="line"></div><div class="line"><span class="keyword">const</span> a = <span class="number">2</span>;</div><div class="line"></div><div class="line">alert(a);</div><div class="line">alert(test3.foo);</div></pre></td></tr></table></figure>
<ul>
<li>src/test_module/test3.js</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</div><div class="line">  foo: <span class="string">'bar'</span>,</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p><strong> 这里还有一个问题，所有的import path都是相对路径，还不知道怎么做成绝对路径。。。 </strong></p>
<h3 id="html-loader"><a href="#html-loader" class="headerlink" title="html loader"></a>html loader</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install html-loader --save-dev</div></pre></td></tr></table></figure>
<p>config</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"></div></pre></td></tr></table></figure>
<h3 id="安装vue-js-写一个hello-word"><a href="#安装vue-js-写一个hello-word" class="headerlink" title="安装vue.js 写一个hello word"></a>安装vue.js 写一个hello word</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install vue --save</div></pre></td></tr></table></figure>
<ul>
<li>index.js</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span>;</div><div class="line"></div><div class="line"><span class="keyword">new</span> Vue(&#123;</div><div class="line">  el: <span class="string">'#app'</span>,</div><div class="line">  data: &#123;</div><div class="line">    message: <span class="string">'Hello Vue!'</span>,</div><div class="line">  &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p><strong> The runtime-only build does not include the template compiler, and does not support the template option. You can only use the render option when using the runtime-only build, but it works with single-file components, because single-file components’ templates are pre-compiled into render functions during the build step. The runtime-only build is roughly 30% lighter-weight than the standalone build, weighing only 17.60kb min+gzip. </strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">resolve: &#123;</div><div class="line">  alias: &#123;</div><div class="line">    <span class="string">'vue$'</span>: <span class="string">'vue/dist/vue.common.js'</span></div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li>index.html</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"/bundle.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Frameworks/">Frameworks</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Vue-js/">Vue.js</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-underscore-5" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/12/03/underscore-5/" class="article-date">
  	<time datetime="2016-12-03T06:03:34.000Z" itemprop="datePublished">2016-12-03</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/12/03/underscore-5/">underscore源码阅读笔记（5）： defer</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>这周被邪恶的knockout狠狠的坑了一次，解决方法是用defer函数让ko的binding让调用栈结束之后进行。于是看了一下源码，了解一下defer的实现。</p>
<h2 id="defer"><a href="#defer" class="headerlink" title="defer"></a>defer</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">_.defer = _.partial(_.delay, _, <span class="number">1</span>);</div></pre></td></tr></table></figure>
<h2 id="partial"><a href="#partial" class="headerlink" title="partial"></a>partial</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Partially apply a function by creating a version that has had some of its</span></div><div class="line"><span class="comment">// arguments pre-filled, without changing its dynamic `this` context. _ acts</span></div><div class="line"><span class="comment">// as a placeholder, allowing any combination of arguments to be pre-filled.</span></div><div class="line">_.partial = <span class="function"><span class="keyword">function</span>(<span class="params">func</span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> boundArgs = slice.call(<span class="built_in">arguments</span>, <span class="number">1</span>);</div><div class="line">  <span class="keyword">var</span> bound = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> position = <span class="number">0</span>, length = boundArgs.length;</div><div class="line">    <span class="keyword">var</span> args = <span class="built_in">Array</span>(length);</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; length; i++) &#123;</div><div class="line">      args[i] = boundArgs[i] === _ ? <span class="built_in">arguments</span>[position++] : boundArgs[i];</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">while</span> (position &lt; <span class="built_in">arguments</span>.length) args.push(<span class="built_in">arguments</span>[position++]);</div><div class="line">    <span class="keyword">return</span> executeBound(func, bound, <span class="keyword">this</span>, <span class="keyword">this</span>, args);</div><div class="line">  &#125;;</div><div class="line">  <span class="keyword">return</span></div></pre></td></tr></table></figure>
<p>Partially apply a function by filling in any number of its arguments, without changing its dynamic this value. A close cousin of bind. You may pass _ in your list of arguments to specify an argument that should not be pre-filled, but left open to supply at call-time.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> subtract = <span class="function"><span class="keyword">function</span>(<span class="params">a, b</span>) </span>&#123; <span class="keyword">return</span> b - a; &#125;;</div><div class="line">sub5 = _.partial(subtract, <span class="number">5</span>);</div><div class="line">sub5(<span class="number">20</span>);</div><div class="line">=&gt; <span class="number">15</span></div><div class="line"></div><div class="line"><span class="comment">// Using a placeholder</span></div><div class="line">subFrom20 = _.partial(subtract, _, <span class="number">20</span>);</div><div class="line">subFrom20(<span class="number">5</span>);</div><div class="line">=&gt; <span class="number">15</span></div></pre></td></tr></table></figure>
<h2 id="delay"><a href="#delay" class="headerlink" title="delay"></a>delay</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Delays a function for the given number of milliseconds, and then calls</span></div><div class="line"><span class="comment">// it with the arguments supplied.</span></div><div class="line">_.delay = <span class="function"><span class="keyword">function</span>(<span class="params">func, wait</span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> args = slice.call(<span class="built_in">arguments</span>, <span class="number">2</span>);</div><div class="line">  <span class="keyword">return</span> setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">return</span> func.apply(<span class="literal">null</span>, args);</div><div class="line">  &#125;, wait);</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p><strong> setTimeout() will run asynchronously after finishing current execution block.  </strong></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-code-convention" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/10/13/code-convention/" class="article-date">
  	<time datetime="2016-10-13T01:25:20.000Z" itemprop="datePublished">2016-10-13</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/10/13/code-convention/">Airbnb JavaScript Style Guide</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <ul>
<li>Note that both let and const are block-scoped.</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// const and let only exist in the blocks they are defined in.</span></div><div class="line">&#123;</div><div class="line">  <span class="keyword">let</span> a = <span class="number">1</span>;</div><div class="line">  <span class="keyword">const</span> b = <span class="number">1</span>;</div><div class="line">&#125;</div><div class="line"><span class="built_in">console</span>.log(a); <span class="comment">// ReferenceError</span></div><div class="line"><span class="built_in">console</span>.log(b); <span class="comment">// ReferenceError</span></div></pre></td></tr></table></figure>
<ul>
<li>Use computed property names when creating objects with dynamic property names.</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">getKey</span>(<span class="params">k</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> <span class="string">`a key named <span class="subst">$&#123;k&#125;</span>`</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// bad</span></div><div class="line"><span class="keyword">const</span> obj = &#123;</div><div class="line">  id: <span class="number">5</span>,</div><div class="line">  name: <span class="string">'San Francisco'</span>,</div><div class="line">&#125;;</div><div class="line">obj[getKey(<span class="string">'enabled'</span>)] = <span class="literal">true</span>;</div><div class="line"></div><div class="line"><span class="comment">// good</span></div><div class="line"><span class="keyword">const</span> obj = &#123;</div><div class="line">  id: <span class="number">5</span>,</div><div class="line">  name: <span class="string">'San Francisco'</span>,</div><div class="line">  [getKey(<span class="string">'enabled'</span>)]: <span class="literal">true</span>,</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<ul>
<li>Do not call Object.prototype methods directly, such as hasOwnProperty, propertyIsEnumerable, and isPrototypeOf.</li>
</ul>
<blockquote>
<p>Why? These methods may be shadowed by properties on the object in question - consider { hasOwnProperty: false } - or, the object may be a null object (Object.create(null)).</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// bad</span></div><div class="line"><span class="built_in">console</span>.log(object.hasOwnProperty(key));</div><div class="line"></div><div class="line"><span class="comment">// good</span></div><div class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.prototype.hasOwnProperty.call(object, key));</div><div class="line"></div><div class="line"><span class="comment">// best</span></div><div class="line"><span class="keyword">const</span> has = <span class="built_in">Object</span>.prototype.hasOwnProperty; <span class="comment">// cache the lookup once, in module scope.</span></div><div class="line"><span class="comment">/* or */</span></div><div class="line"><span class="keyword">const</span> has = <span class="built_in">require</span>(<span class="string">'has'</span>);</div><div class="line">…</div><div class="line"><span class="built_in">console</span>.log(has.call(object, key));</div></pre></td></tr></table></figure>
<ul>
<li>Use array spreads … to copy arrays.</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// bad</span></div><div class="line"><span class="keyword">const</span> len = items.length;</div><div class="line"><span class="keyword">const</span> itemsCopy = [];</div><div class="line"><span class="keyword">let</span> i;</div><div class="line"></div><div class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; len; i++) &#123;</div><div class="line">  itemsCopy[i] = items[i];</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// good</span></div><div class="line"><span class="keyword">const</span> itemsCopy = [...items];</div></pre></td></tr></table></figure>
<ul>
<li>Use object destructuring when accessing and using multiple properties of an object. jscs:</li>
</ul>
<blockquote>
<p>Why? Destructuring saves you from creating temporary references for those properties.</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// bad</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">getFullName</span>(<span class="params">user</span>) </span>&#123;</div><div class="line">  <span class="keyword">const</span> firstName = user.firstName;</div><div class="line">  <span class="keyword">const</span> lastName = user.lastName;</div><div class="line"></div><div class="line">  <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;firstName&#125;</span> <span class="subst">$&#123;lastName&#125;</span>`</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// good</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">getFullName</span>(<span class="params">user</span>) </span>&#123;</div><div class="line">  <span class="keyword">const</span> &#123; firstName, lastName &#125; = user;</div><div class="line">  <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;firstName&#125;</span> <span class="subst">$&#123;lastName&#125;</span>`</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// best</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">getFullName</span>(<span class="params">&#123; firstName, lastName &#125;</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;firstName&#125;</span> <span class="subst">$&#123;lastName&#125;</span>`</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li>Use array destructuring. jscs: requireArrayDestructuring</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</div><div class="line"></div><div class="line"><span class="comment">// bad</span></div><div class="line"><span class="keyword">const</span> first = arr[<span class="number">0</span>];</div><div class="line"><span class="keyword">const</span> second = arr[<span class="number">1</span>];</div><div class="line"></div><div class="line"><span class="comment">// good</span></div><div class="line"><span class="keyword">const</span> [first, second] = arr;</div></pre></td></tr></table></figure>
<ul>
<li>Strings that cause the line to go over 100 characters should not be written across multiple lines using string concatenation.</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// bad</span></div><div class="line"><span class="keyword">const</span> errorMessage = <span class="string">'This is a super long error that was thrown because \</span></div><div class="line">of Batman. When you stop to think about how Batman had anything to do \</div><div class="line">with this, you would get nowhere \</div><div class="line">fast.';</div><div class="line"></div><div class="line"><span class="comment">// bad</span></div><div class="line"><span class="keyword">const</span> errorMessage = <span class="string">'This is a super long error that was thrown because '</span> +</div><div class="line">  <span class="string">'of Batman. When you stop to think about how Batman had anything to do '</span> +</div><div class="line">  <span class="string">'with this, you would get nowhere fast.'</span>;</div><div class="line"></div><div class="line"><span class="comment">// good</span></div><div class="line"><span class="keyword">const</span> errorMessage = <span class="string">'This is a super long error that was thrown because of Batman. When you stop to think about how Batman had anything to do with this, you would get nowhere fast.'</span>;</div></pre></td></tr></table></figure>
<ul>
<li>Do not unnecessarily escape characters in strings. eslint: no-useless-escape</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// bad</span></div><div class="line"><span class="keyword">const</span> foo = <span class="string">'\'this\' \i\s \"quoted\"'</span>;</div><div class="line"></div><div class="line"><span class="comment">// good</span></div><div class="line"><span class="keyword">const</span> foo = <span class="string">'\'this\' is "quoted"'</span>;</div><div class="line"><span class="keyword">const</span> foo = <span class="string">`'this' is "quoted"`</span>;</div></pre></td></tr></table></figure>
<ul>
<li>Use named function expressions instead of function declarations. eslint: func-style jscs:</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// bad</span></div><div class="line"><span class="keyword">const</span> foo = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="comment">// bad</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// good</span></div><div class="line"><span class="keyword">const</span> foo = <span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"></span>) </span>&#123;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<ul>
<li>Prefer the use of the spread operator … to call variadic functions. eslint: prefer-spread</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// bad</span></div><div class="line"><span class="keyword">const</span> x = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</div><div class="line"><span class="built_in">console</span>.log.apply(<span class="built_in">console</span>, x);</div><div class="line"></div><div class="line"><span class="comment">// good</span></div><div class="line"><span class="keyword">const</span> x = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</div><div class="line"><span class="built_in">console</span>.log(...x);</div><div class="line"></div><div class="line"><span class="comment">// bad</span></div><div class="line"><span class="keyword">new</span> (<span class="built_in">Function</span>.prototype.bind.apply(<span class="built_in">Date</span>, [<span class="literal">null</span>, <span class="number">2016</span>, <span class="number">08</span>, <span class="number">05</span>]));</div><div class="line"></div><div class="line"><span class="comment">// good</span></div><div class="line"><span class="keyword">new</span> <span class="built_in">Date</span>(...[<span class="number">2016</span>, <span class="number">08</span>, <span class="number">05</span>]);</div></pre></td></tr></table></figure>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Javascript/">Javascript</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-essay0" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/09/18/essay0/" class="article-date">
  	<time datetime="2016-09-18T01:17:38.000Z" itemprop="datePublished">2016-09-18</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/09/18/essay0/">有位孤独的裱糊匠</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>说起爱国，每个人都曾经在昏黄的灯光下，啃那些令人热血沸腾的一行行，一段段。也想过能振臂一呼“为中华之崛起而读书”。然而一百年过去了，我泱泱中华也早已不再是那个任人鱼肉的东亚病夫之邦，莘莘学子也早无救亡图存之忧，偶有几个不知是不是无病呻吟之辈锤着打鼓摇着“爱国主义教育”的旌旗，不得回应而啐骂小生们欺师忘祖谓之“毁掉的一代”。或者更需要的是在静夜的微风中细细琢磨一下，究竟何谓爱国，何谓国士，何谓英雄，那些年这块染血的土地上究竟是哪些人在扛着破败飘摇的民族前进。<br>翁同龢之辈？他对中华的祸害，怕是远甚于巨贪和珅和清末一干赃官污吏。甲午年鲜血染红的黄海上，多少将士恨不能食其肉寝其皮，此之谓爱国贼。然而他忠心耿耿，满腹经纶，书法文章无不精通，若不是拖甲午战争后腿这个地实在不好洗，有人还想着树之为书生榜样让天下学子效仿吧。<br>邓世昌邓公，此日漫挥天下泪，有公足壮海军威，岂不是大英雄。且不论多少凡夫俗子有邓公之志，邓公之才，邓公之威，只是不知道那些挥着热血红旗的人，可曾计算过要用多少大英雄的躯体，用多少致远舰的残骸，去填平专制农业国和宪政工业国之间的沟壑？<br>哦，对了，百年来，举国歌颂纪念邓公，唯有一大汉奸卖国贼不以为然，认为此举不值得提倡，命令众官兵不要效仿。还修定了《海军惩劝章程》，担心将士们都学邓世昌，以轻生为壮。<br>这个人把自己的姓名，签在了丧权辱国的马关条约和辛丑条约上。<br>这个人不顾我中华上下五千年之文明，整天洋人长洋人短的鼓吹西洋奇技淫巧。<br>这个人无视我中华地大物博，四万万众志成城的百姓，百万正义之师，却宣扬东洋的蕞尔小国多么强大，八国混杂的乌合之众装备精良，闭港闭关不敢一战。</p>
<p>一百年前的一个傍晚，地平线上矮矮的挂着帝国昏黄夕阳，狼狈的老佛爷光绪帝在西边餐风饮露惶惶如丧家之犬，豺狗般的八国联军在京师烧杀掳掠把东方的瑰宝装上强盗的货轮。还有那位孤独的老人领了老佛爷的懿旨正前往那龙潭虎穴之地。他在想什么？那部已经“不再公开播出”的电视剧中给出了这样一个有趣的场景：老者重重的拿皮鞭抽着陀螺，脸上孩童般的笑容，对着身边的丫鬟笑道：“又要去卖国，当汉奸，去卖国，去当汉奸，去卖国，去当汉奸。。。”<br>或者谈判桌上，换上哪位爱国志士，直斥八国军匪虎狼之心，豺狼之态，让他们知道我们威武天朝正义之师不可战胜，就能让他们俯首称臣，省下那九万万两白银。<br>又或者哪位大儒圣贤，能开化与鸟兽为伍的洋鬼子，使之知礼孝廉耻，明仁义道德，读四书五经，然后知道自己所作所为大悖伦常之道，能在孔孟圣贤庙前向我们赔礼道歉，然后受我天子教化。</p>
<p>签字的是不是李中堂，除了决定历史课本上黑锅的归属，怕是改变不了中华被列强蹂躏的命运；但从帝国主义嘴里抠回来辽东半岛，抠回来被彻底肢解的命运，恐怕那段岁月里在朝廷上粉墨登场过的，能做到的，也只有一个李鸿章吧。<br>其实他应该蠢一点，无能一点，愚昧一点，或者能让已经瓤子里腐败的清廷，支离破碎的更早一点吧。<br>哦，对了，少荃在日本，还吃了一颗价值一亿两白银的子弹呢。不知道现在的日本国民，是如何看待他们那位开枪的爱国青年的。<br>哦，对了，就算历史课本上给黄海海战的结论是“北洋水师全军覆没”，别忘了日本人可打不沉定远镇远二舰。直到二战，这铁甲巨舰的路线还在发挥着威力。甚至几十年后二战太平洋和大西洋血染的海面上，还在证明着李中堂思路的正确。</p>
<p>“这是一个人对一个国家的战争”这是国外对甲午战争的一句评论。我们很难判断这句话是否成立——更可能的，这并非一个可以判断真伪的命题，儿仅仅是看到一个拥有“五千年文明”，“地大物博”，“不必与西洋互通有无”的大国支离破碎之后的一句感慨。历史的车轮在时光轴的这个横断面，刻下了一个大大的感叹号！四万万人中，难道只有这么一位可以大声疾呼“世界正经历三千年未有之巨变”，只有以变求变，才能有一线生机。至于那些跪倒在“祖宗之法”“圣贤教诲”前面泣血上奏的忠臣们，他们对中华的祸害，远甚于贪官污吏，远甚于流氓盗匪！时至今日，大家无不感叹鸿章大人生不逢时。但细细一想，也许所有真正能牵引时代前进的人，都要被打上一个“生不逢时”的标签吧：很难被他周围的人认可，不像李某落得个遗臭万年的下场，就算不错了。<br>——这种人是为了未来制造的，为了那个还没有被世人，没有被当时掌握话语权的“主流”接受的那个未来。</p>
<p>所以，我们的历史书上，歌颂的是邓世昌。总不能歌颂翁老吧。他属于那个忠君报国的现在，属于那个清正廉明的现在。而李鸿章，属于那个机械轰鸣的未来。<br>还有，那个帝国落日余晖折射下，民族无奈的未来。<br>还有，他不停的要银子，花在破坏风水的洋务上，花在千里之外的海上。让京城里老佛爷的六十大寿，过得不那么开心啊。这岂是能鼓励和颂扬的？</p>
<p>我们还是不要把历史当笑话读吧，也许今晚睡前可以话十分钟闭目想一下，我们每天茫茫碌碌，究竟是在修建那座美轮美奂的颐和园，还是打造一支也许回沉没的北洋水师。我们究竟在为老佛爷的六十大寿奋斗，还有没有隐隐为“未来”的波涛汹涌担忧。<br>李鸿章是悲剧。让李鸿章出现的时代也是悲剧。土地上的亭台阁楼建起来了，时代的大屋子，去只能靠这位苍老的裱糊匠孤独的修补。那个风雨飘摇中踽踽独行的背影，是不是不应该那么熟悉？</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/随笔/">随笔</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-underscore-4" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/09/07/underscore-4/" class="article-date">
  	<time datetime="2016-09-07T03:01:11.000Z" itemprop="datePublished">2016-09-07</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/09/07/underscore-4/">underscore源码阅读笔记（4）： eq(cont.)</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="javascript判断变量类型的方法"><a href="#javascript判断变量类型的方法" class="headerlink" title="javascript判断变量类型的方法"></a>javascript判断变量类型的方法</h2><blockquote>
<p>javascript中 一切皆对象</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(toString.call([<span class="number">123</span>]));<span class="comment">//[object Array]</span></div><div class="line"><span class="built_in">console</span>.log(toString.call(<span class="string">'123'</span>));<span class="comment">//[object String]</span></div><div class="line"><span class="built_in">console</span>.log(toString.call(&#123;a: <span class="string">'123'</span>&#125;));<span class="comment">//[object Object]</span></div><div class="line"><span class="built_in">console</span>.log(toString.call(<span class="regexp">/123/</span>));<span class="comment">//[object RegExp]</span></div><div class="line"><span class="built_in">console</span>.log(toString.call(<span class="number">123</span>));<span class="comment">//[object Number]</span></div><div class="line"><span class="built_in">console</span>.log(toString.call(<span class="literal">undefined</span>));<span class="comment">//[object Undefined]</span></div><div class="line"><span class="built_in">console</span>.log(toString.call(<span class="literal">null</span>));<span class="comment">//[object Null]</span></div></pre></td></tr></table></figure>
<h2 id="eq函数中不同类型的“相等”判断"><a href="#eq函数中不同类型的“相等”判断" class="headerlink" title="eq函数中不同类型的“相等”判断"></a>eq函数中不同类型的“相等”判断</h2><h3 id="RegExp和string"><a href="#RegExp和string" class="headerlink" title="RegExp和string"></a>RegExp和string</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Strings, numbers, regular expressions, dates, and booleans are compared by value.</span></div><div class="line"><span class="keyword">case</span> <span class="string">'[object RegExp]'</span>:</div><div class="line"><span class="comment">// RegExps are coerced to strings for comparison (Note: '' + /a/i === '/a/i')</span></div><div class="line"><span class="keyword">case</span> <span class="string">'[object String]'</span>:</div><div class="line">  <span class="comment">// Primitives and their corresponding object wrappers are equivalent; thus, `"5"` is</span></div><div class="line">  <span class="comment">// equivalent to `new String("5")`.</span></div><div class="line">  <span class="keyword">return</span> <span class="string">''</span> + a === <span class="string">''</span> + b;</div><div class="line">·</div></pre></td></tr></table></figure>
<p><strong> 以下“相等”均表示eq返回true </strong></p>
<ul>
<li>一个正则表达式 加上’’ 仍让与原来相等</li>
<li>“abc”和new String(‘abc’)是相等的</li>
</ul>
<h3 id="Number"><a href="#Number" class="headerlink" title="Number"></a>Number</h3><p>·<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">case</span> <span class="string">'[object Number]'</span>:</div><div class="line">        <span class="comment">// `NaN`s are equivalent, but non-reflexive.</span></div><div class="line">        <span class="comment">// Object(NaN) is equivalent to NaN</span></div><div class="line">        <span class="keyword">if</span> (+a !== +a) <span class="keyword">return</span> +b !== +b;</div><div class="line">        <span class="comment">// An `egal` comparison is performed for other numeric values.</span></div><div class="line">        <span class="keyword">return</span> +a === <span class="number">0</span> ? <span class="number">1</span> / +a === <span class="number">1</span> / b : +a === +b;</div></pre></td></tr></table></figure></p>
<ul>
<li>js中 +NaN === +NaN 为false</li>
<li>Object(NaN)和NaN相等</li>
</ul>
<h3 id="Date-Boolean"><a href="#Date-Boolean" class="headerlink" title="Date/Boolean"></a>Date/Boolean</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">case &apos;[object Date]&apos;:</div><div class="line">case &apos;[object Boolean]&apos;:</div><div class="line">  // Coerce dates and booleans to numeric primitive values. Dates are compared by their</div><div class="line">  // millisecond representations. Note that invalid dates with millisecond representations</div><div class="line">  // of `NaN` are not equivalent.</div><div class="line">  return +a === +b;</div></pre></td></tr></table></figure>
<p>To be continued</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/javascript/">javascript</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-css-position" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/09/02/css-position/" class="article-date">
  	<time datetime="2016-09-02T12:30:06.000Z" itemprop="datePublished">2016-09-02</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/09/02/css-position/">css中的定位</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>css的position属性定义元素的定位类型，Position属性有四个值：static、fixed、absolute和relative。主流的浏览器都是支持所有值的。</p>
<p><strong> 著名坑爹货：任何的版本的 Internet Explorer （包括 IE8）都不支持属性值 “inherit”。 </strong></p>
<h2 id="static"><a href="#static" class="headerlink" title="static"></a>static</h2><p>默认值 表示一个元素不会被positioned 仍然放在正常文档流中（“正常”是什么东西见上一篇关于浮动的）</p>
<h2 id="relative"><a href="#relative" class="headerlink" title="relative"></a>relative</h2><p>基本的表现和static一样 不同的是可以用top bottom left right属性来控制元素位置的偏移</p>
<h2 id="fixed"><a href="#fixed" class="headerlink" title="fixed"></a>fixed</h2><p>相对于视窗定位 就是说 即使页面滚动 元素的位置仍然不会改变</p>
<h2 id="absulote"><a href="#absulote" class="headerlink" title="absulote"></a>absulote</h2><p>absolute 与 fixed 的表现类似，除了它不是相对于视窗而是相对于最近的“positioned”祖先元素。如果绝对定位（position属性的值为absolute）的元素没有“positioned”祖先元素，那么它是相对于文档的 body 元素，并且它会随着页面滚动而移动。</p>
<blockquote>
<p>一个“positioned”元素是指position 值不是 static 的元素。</p>
</blockquote>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/css/">css</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-underscore-3" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/08/22/underscore-3/" class="article-date">
  	<time datetime="2016-08-22T06:16:09.000Z" itemprop="datePublished">2016-08-22</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/22/underscore-3/">underscore源码阅读笔记（3）： eq</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="eq-函数源码："><a href="#eq-函数源码：" class="headerlink" title="eq 函数源码："></a>eq 函数源码：</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Internal recursive comparison function for `isEqual`.</span></div><div class="line"><span class="keyword">var</span> eq = <span class="function"><span class="keyword">function</span>(<span class="params">a, b, aStack, bStack</span>) </span>&#123;</div><div class="line">  <span class="comment">// Identical objects are equal. `0 === -0`, but they aren't identical.</span></div><div class="line">  <span class="comment">// See the [Harmony `egal` proposal](http://wiki.ecmascript.org/doku.php?id=harmony:egal).</span></div><div class="line">  <span class="keyword">if</span> (a === b) <span class="keyword">return</span> a !== <span class="number">0</span> || <span class="number">1</span> / a === <span class="number">1</span> / b;</div><div class="line">  <span class="comment">// A strict comparison is necessary because `null == undefined`.</span></div><div class="line">  <span class="keyword">if</span> (a == <span class="literal">null</span> || b == <span class="literal">null</span>) <span class="keyword">return</span> a === b;</div><div class="line">  <span class="comment">// Unwrap any wrapped objects.</span></div><div class="line">  <span class="keyword">if</span> (a <span class="keyword">instanceof</span> _) a = a._wrapped;</div><div class="line">  <span class="keyword">if</span> (b <span class="keyword">instanceof</span> _) b = b._wrapped;</div><div class="line">  <span class="comment">// Compare `[[Class]]` names.</span></div><div class="line">  <span class="keyword">var</span> className = toString.call(a);</div><div class="line">  <span class="keyword">if</span> (className !== toString.call(b)) <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">  <span class="keyword">switch</span> (className) &#123;</div><div class="line">    <span class="comment">// Strings, numbers, regular expressions, dates, and booleans are compared by value.</span></div><div class="line">    <span class="keyword">case</span> <span class="string">'[object RegExp]'</span>:</div><div class="line">    <span class="comment">// RegExps are coerced to strings for comparison (Note: '' + /a/i === '/a/i')</span></div><div class="line">    <span class="keyword">case</span> <span class="string">'[object String]'</span>:</div><div class="line">      <span class="comment">// Primitives and their corresponding object wrappers are equivalent; thus, `"5"` is</span></div><div class="line">      <span class="comment">// equivalent to `new String("5")`.</span></div><div class="line">      <span class="keyword">return</span> <span class="string">''</span> + a === <span class="string">''</span> + b;</div><div class="line">    <span class="keyword">case</span> <span class="string">'[object Number]'</span>:</div><div class="line">      <span class="comment">// `NaN`s are equivalent, but non-reflexive.</span></div><div class="line">      <span class="comment">// Object(NaN) is equivalent to NaN</span></div><div class="line">      <span class="keyword">if</span> (+a !== +a) <span class="keyword">return</span> +b !== +b;</div><div class="line">      <span class="comment">// An `egal` comparison is performed for other numeric values.</span></div><div class="line">      <span class="keyword">return</span> +a === <span class="number">0</span> ? <span class="number">1</span> / +a === <span class="number">1</span> / b : +a === +b;</div><div class="line">    <span class="keyword">case</span> <span class="string">'[object Date]'</span>:</div><div class="line">    <span class="keyword">case</span> <span class="string">'[object Boolean]'</span>:</div><div class="line">      <span class="comment">// Coerce dates and booleans to numeric primitive values. Dates are compared by their</span></div><div class="line">      <span class="comment">// millisecond representations. Note that invalid dates with millisecond representations</span></div><div class="line">      <span class="comment">// of `NaN` are not equivalent.</span></div><div class="line">      <span class="keyword">return</span> +a === +b;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="keyword">var</span> areArrays = className === <span class="string">'[object Array]'</span>;</div><div class="line">  <span class="keyword">if</span> (!areArrays) &#123;</div><div class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> a != <span class="string">'object'</span> || <span class="keyword">typeof</span> b != <span class="string">'object'</span>) <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line"></div><div class="line">    <span class="comment">// Objects with different constructors are not equivalent, but `Object`s or `Array`s</span></div><div class="line">    <span class="comment">// from different frames are.</span></div><div class="line">    <span class="keyword">var</span> aCtor = a.constructor, bCtor = b.constructor;</div><div class="line">    <span class="keyword">if</span> (aCtor !== bCtor &amp;&amp; !(_.isFunction(aCtor) &amp;&amp; aCtor <span class="keyword">instanceof</span> aCtor &amp;&amp;</div><div class="line">                             _.isFunction(bCtor) &amp;&amp; bCtor <span class="keyword">instanceof</span> bCtor)</div><div class="line">                        &amp;&amp; (<span class="string">'constructor'</span> <span class="keyword">in</span> a &amp;&amp; <span class="string">'constructor'</span> <span class="keyword">in</span> b)) &#123;</div><div class="line">      <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">  <span class="comment">// Assume equality for cyclic structures. The algorithm for detecting cyclic</span></div><div class="line">  <span class="comment">// structures is adapted from ES 5.1 section 15.12.3, abstract operation `JO`.</span></div><div class="line"></div><div class="line">  <span class="comment">// Initializing stack of traversed objects.</span></div><div class="line">  <span class="comment">// It's done here since we only need them for objects and arrays comparison.</span></div><div class="line">  aStack = aStack || [];</div><div class="line">  bStack = bStack || [];</div><div class="line">  <span class="keyword">var</span> length = aStack.length;</div><div class="line">  <span class="keyword">while</span> (length--) &#123;</div><div class="line">    <span class="comment">// Linear search. Performance is inversely proportional to the number of</span></div><div class="line">    <span class="comment">// unique nested structures.</span></div><div class="line">    <span class="keyword">if</span> (aStack[length] === a) <span class="keyword">return</span> bStack[length] === b;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="comment">// Add the first object to the stack of traversed objects.</span></div><div class="line">  aStack.push(a);</div><div class="line">  bStack.push(b);</div><div class="line"></div><div class="line">  <span class="comment">// Recursively compare objects and arrays.</span></div><div class="line">  <span class="keyword">if</span> (areArrays) &#123;</div><div class="line">    <span class="comment">// Compare array lengths to determine if a deep comparison is necessary.</span></div><div class="line">    length = a.length;</div><div class="line">    <span class="keyword">if</span> (length !== b.length) <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">    <span class="comment">// Deep compare the contents, ignoring non-numeric properties.</span></div><div class="line">    <span class="keyword">while</span> (length--) &#123;</div><div class="line">      <span class="keyword">if</span> (!eq(a[length], b[length], aStack, bStack)) <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">    &#125;</div><div class="line">  &#125; <span class="keyword">else</span> &#123;</div><div class="line">    <span class="comment">// Deep compare objects.</span></div><div class="line">    <span class="keyword">var</span> keys = _.keys(a), key;</div><div class="line">    length = keys.length;</div><div class="line">    <span class="comment">// Ensure that both objects contain the same number of properties before comparing deep equality.</span></div><div class="line">    <span class="keyword">if</span> (_.keys(b).length !== length) <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">    <span class="keyword">while</span> (length--) &#123;</div><div class="line">      <span class="comment">// Deep compare each member</span></div><div class="line">      key = keys[length];</div><div class="line">      <span class="keyword">if</span> (!(_.has(b, key) &amp;&amp; eq(a[key], b[key], aStack, bStack))) <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">  <span class="comment">// Remove the first object from the stack of traversed objects.</span></div><div class="line">  aStack.pop();</div><div class="line">  bStack.pop();</div><div class="line">  <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Perform a deep comparison to check if two objects are equal.</span></div><div class="line">_.isEqual = <span class="function"><span class="keyword">function</span>(<span class="params">a, b</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> eq(a, b);</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<ul>
<li>0 和 -0 的不同判断</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Identical objects are equal. `0 === -0`, but they aren't identical.</span></div><div class="line"><span class="comment">// See the [Harmony `egal` proposal](http://wiki.ecmascript.org/doku.php?id=harmony:egal).</span></div><div class="line"><span class="keyword">if</span> (a === b) <span class="keyword">return</span> a !== <span class="number">0</span> || <span class="number">1</span> / a === <span class="number">1</span> / b;</div></pre></td></tr></table></figure>
<p>在这里判断时，因为1/0会得到Infinite，而1/-0会得到-Infinite,而 Infinite === - Infinite会得到false，所以_.isEqual(0, -0)会得到false，尽管0 === -0会得到true。更加详细的说明作者在comments中提供了有详细解释的链接。</p>
<ul>
<li>_.isEqual(null, undefined) 会得到false</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// A strict comparison is necessary because `null == undefined`.</span></div><div class="line"><span class="keyword">if</span> (a == <span class="literal">null</span> || b == <span class="literal">null</span>) <span class="keyword">return</span> a === b;</div></pre></td></tr></table></figure>
<ul>
<li>开始根据Classname来进行深度比较</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Compare `[[Class]]` names.</span></div><div class="line"><span class="keyword">var</span> className = toString.call(a);</div><div class="line"><span class="keyword">if</span> (className !== toString.call(b)) <span class="keyword">return</span> <span class="literal">false</span>;</div></pre></td></tr></table></figure>
<p>这里会有一个很自然的疑问：下面那一行if是用来干嘛的？上面刚刚赋值，难道这里还会有以外吗？<br>会！</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[] !== [] <span class="comment">// it is true!</span></div></pre></td></tr></table></figure>
<p>之后就会根据不同的class（或者说type吧）进行不同的比较</p>
<p>未完待续</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Javascript/">Javascript</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-css-float" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/08/18/css-float/" class="article-date">
  	<time datetime="2016-08-18T11:29:59.000Z" itemprop="datePublished">2016-08-18</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/18/css-float/">css中著名的坑爹货：浮动(float)和清浮动(clear)</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="css正常流布局"><a href="#css正常流布局" class="headerlink" title="css正常流布局"></a>css正常流布局</h2><p>div是html中最常见的元素，也是最典型的块级元素。块级元素会按照html中的顺序从上到下依次布局，每个占一行，也就是我们所说的“流”<br><a href="https://jsfiddle.net/ys51y1un/4/" target="_blank" rel="external">例子</a></p>
<p>而其他所有神奇的布局，归根结底都是解决一个问题： 如何在一行显示多个元素。</p>
<h2 id="浮动"><a href="#浮动" class="headerlink" title="浮动"></a>浮动</h2><p>浮动可以理解为（非准确定义！）：让块级元素脱离标准流，漂浮在另一个层次上</p>
<p>比如说上面的例子 我们让b浮动:<br><a href="https://jsfiddle.net/ys51y1un/3/" target="_blank" rel="external">b float left</a><br>结果是，表示c的蓝色元素被挡住看不见了。因为b在浮动，不参与标准流布局，a,c,d仍然按照标准流布局，“漂浮”着的b挡住了c。并且这里的b是靠左排列，因为是左浮动，右浮动就是靠右排列：<br><a href="https://jsfiddle.net/ys51y1un/5/" target="_blank" rel="external">b float right</a><br>让b和c一起左浮动 a和d会组成新的标准流， <strong> c会跟在b的后面，如果一行排不下，会被挤到下一行 </strong>， d仍然在正常流中，被挡住。多个浮动元素的情况可以以此类推，就是一个跟着一个往一排里放，放不下了就放下一排。从左从右由浮动种类决定。<br>这里可以出题啦：瀑布流，哇咔咔。这个写完了基本上面的就木有问题了。这里给个参考：<a href="https://github.com/duitang/waterfall" target="_blank" rel="external">https://github.com/duitang/waterfall</a></p>
<h2 id="浮动元素和非浮动元素的排列"><a href="#浮动元素和非浮动元素的排列" class="headerlink" title="浮动元素和非浮动元素的排列"></a>浮动元素和非浮动元素的排列</h2><p><strong> 划重点啦 划重点啦 </strong></p>
<p>上面的b都是浮动的，a都是正常的。然后b都是在a的下面！！！<br>重点，手动红色下划线：</p>
<blockquote>
<p>假如某个div元素A是浮动的，如果A元素上一个元素也是浮动的，那么A元素会跟随在上一个元素的后边(如果一行放不下这两个元素，那么A元素会被挤到下一行)；如果A元素上一个元素是标准流中的元素，那么A的相对垂直位置不会改变，也就是说A的顶部总是和上一个元素的底部对齐。</p>
</blockquote>
<h2 id="inline元素和浮动"><a href="#inline元素和浮动" class="headerlink" title="inline元素和浮动"></a>inline元素和浮动</h2><p>CSS display是指显示状态，inline表示内联，特点是紧贴着前一个内联元素，通常默认的内联元素有span,a,em,strong等。任何不是块级元素的可见元素都是内联元素.<br>他和浮动的区别在于: inline元素是不能设置宽和高的。</p>
<p>打屁股的作业如下：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"foo"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span>span&gt;</div></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.foo</span> &#123;</div><div class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</div><div class="line">  <span class="attribute">height</span>: <span class="number">100px</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="清浮动"><a href="#清浮动" class="headerlink" title="清浮动"></a>清浮动</h2><ul>
<li>语法：</li>
</ul>
<p>clear : none | left | right | both</p>
<ul>
<li>取值：</li>
</ul>
<p>none  :  默认值。允许两边都可以有浮动对象</p>
<p>left   :  不允许左边有浮动对象</p>
<p>right  :  不允许右边有浮动对象</p>
<p>both  :  不允许有浮动对象</p>
<p><a href="https://jsfiddle.net/ys51y1un/6/" target="_blank" rel="external">不清浮动</a><br><a href="https://jsfiddle.net/ys51y1un/7/" target="_blank" rel="external">清除d的左浮动</a></p>
<h2 id="Bootstrap中的浮动"><a href="#Bootstrap中的浮动" class="headerlink" title="Bootstrap中的浮动"></a>Bootstrap中的浮动</h2><p>向左快速浮动：pull-left<br>向右快速浮动：pull-right<br>清除浮动：clearfix</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/css/">css</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-underscore-2" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/08/17/underscore-2/" class="article-date">
  	<time datetime="2016-08-17T02:01:07.000Z" itemprop="datePublished">2016-08-17</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/17/underscore-2/">underscore源码阅读笔记（2）： reduce</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <ul>
<li>reduce和reduceRight的实现：</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// **Reduce** builds up a single result from a list of values, aka `inject`,</span></div><div class="line"><span class="comment">// or `foldl`.</span></div><div class="line">_.reduce = _.foldl = _.inject = createReduce(<span class="number">1</span>);</div><div class="line"></div><div class="line"><span class="comment">// The right-associative version of reduce, also known as `foldr`.</span></div><div class="line">_.reduceRight = _.foldr = createReduce(<span class="number">-1</span>);</div></pre></td></tr></table></figure>
<ul>
<li>核心：createReduce - 这是一个function decorator:</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Create a reducing function iterating left or right.</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">createReduce</span>(<span class="params">dir</span>) </span>&#123;</div><div class="line">  <span class="comment">// Optimized iterator function as using arguments.length</span></div><div class="line">  <span class="comment">// in the main function will deoptimize the, see #1991.</span></div><div class="line">  <span class="function"><span class="keyword">function</span> <span class="title">iterator</span>(<span class="params">obj, iteratee, memo, keys, index, length</span>) </span>&#123;</div><div class="line">    <span class="keyword">for</span> (; index &gt;= <span class="number">0</span> &amp;&amp; index &lt; length; index += dir) &#123;</div><div class="line">      <span class="keyword">var</span> currentKey = keys ? keys[index] : index;</div><div class="line">      memo = iteratee(memo, obj[currentKey], currentKey, obj);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> memo;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">obj, iteratee, memo, context</span>) </span>&#123;</div><div class="line">    iteratee = optimizeCb(iteratee, context, <span class="number">4</span>);</div><div class="line">    <span class="keyword">var</span> keys = !isArrayLike(obj) &amp;&amp; _.keys(obj),</div><div class="line">        length = (keys || obj).length,</div><div class="line">        index = dir &gt; <span class="number">0</span> ? <span class="number">0</span> : length - <span class="number">1</span>;</div><div class="line">    <span class="comment">// Determine the initial value if none is provided.</span></div><div class="line">    <span class="keyword">if</span> (<span class="built_in">arguments</span>.length &lt; <span class="number">3</span>) &#123;</div><div class="line">      memo = obj[keys ? keys[index] : index];</div><div class="line">      index += dir;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> iterator(obj, iteratee, memo, keys, index, length);</div><div class="line">  &#125;;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<blockquote>
<p>Optimized iterator function as using arguments.length in the main function will deoptimize the, see #1991.</p>
</blockquote>
<p>换我这种人来写，肯定就是用arguments.length来取一下，然后开开心心的开始for循环了，嘿嘿嘿</p>
<h3 id="195行到198行在干嘛？"><a href="#195行到198行在干嘛？" class="headerlink" title="195行到198行在干嘛？"></a>195行到198行在干嘛？</h3><p>如果没有传初始值，则把第一个值作为初始值，同时移动一下初始迭代位置</p>
<h3 id="191行"><a href="#191行" class="headerlink" title="191行"></a>191行</h3><p>同时支持数组和集合。可以借鉴：）</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Javascript/">Javascript</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/3/">Next &raquo;</a>
    </nav>
  
</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2017 体力劳动者
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">


<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: true,
		animate: true,
		isHome: true,
		isPost: false,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false,
		root: ''
	}
</script>
<script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>
<script src="/js/main.js"></script>






<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  </div>
</body>
</html>